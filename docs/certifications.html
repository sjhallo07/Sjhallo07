<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Certificaciones ‚Äî sjhallo07</title>
    <link rel="stylesheet" href="./assets/styles.css">
    <link rel="stylesheet" href="./assets/fallback.css">
    <style>
        .cert-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 1rem;
        }

        @media(min-width:640px) {
            .cert-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media(min-width:980px) {
            .cert-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .cert-card-thumb {
            display: flex;
            align-items: center;
            gap: 0.75rem
        }

        .cert-card-thumb img.thumb {
            width: 64px;
            height: 64px;
            object-fit: cover;
            border-radius: 8px
        }

        .cert-actions {
            display: flex;
            gap: .5rem;
            margin-top: .5rem
        }
    </style>
</head>

<body>
    <main>
        <header style="display:flex;align-items:center;gap:1rem;margin-bottom:1rem">
            <img src="./assets/logo.svg" alt="logo" style="height:48px">
            <button id="theme-toggle" class="btn btn-ghost" onclick="toggleThemeCycle()"
                aria-label="Cambiar tema">üåó</button>
            <h1 style="margin:0">Certificaciones</h1>
        </header>

        <p class="muted">Lista de certificados (PDF/PNG). Sustituye los archivos en <code>docs/assets/certs/</code> y
            actualiza <code>docs/certs/metadata.json</code> con t√≠tulos, descripciones y enlaces de verificaci√≥n.</p>

        <div style="display:flex;gap:1rem;align-items:center;margin-bottom:1rem">
            <a class="btn btn-primary" href="./certs-gallery.html">Ver galer√≠a (im√°genes grandes)</a>
            <a class="btn btn-ghost" href="./index.html">Volver al inicio</a>
        </div>

        <div id="certs" class="cert-grid"></div>

        <section style="margin-top:1.5rem">
            <h3>Instrucciones</h3>
            <ol>
                <li>Sube tus PDFs a <code>docs/assets/certs/</code> con nombre <code>cert-XXX.pdf</code>.</li>
                <li>Sube tambi√©n una imagen PNG/SVG representativa (opcional) con el mismo prefijo.</li>
                <li>Edita <code>docs/certs/metadata.json</code> para a√±adir t√≠tulo, descripci√≥n y el enlace de
                    verificaci√≥n.</li>
            </ol>
        </section>

        <footer style="margin-top:2rem">Generado autom√°ticamente ¬∑ Carpeta <code>docs/</code></footer>
    </main>

    <script src="./assets/theme.js" defer></script>
    <script>
        async function loadCerts() {
            try {
                const res = await fetch('./certs/metadata.json');
                const data = await res.json();
                const container = document.getElementById('certs');
                data.forEach(c => {
                    const fileLower = (c.pdf || '').toLowerCase();
                    let icon = '';
                    if (fileLower.endsWith('.pdf')) {
                        icon = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="4" fill="#E53E3E"/><path d="M7 7h6v2H7V7z" fill="#fff"/><path d="M7 11h10v2H7v-2z" fill="#fff"/></svg>`;
                    } else if ((c.image || '').match(/\.(png|jpg|jpeg|svg)$/i)) {
                        icon = `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="4" fill="#0EA5A4"/><path d="M5 15l3-3 2 2 4-4 5 5v2H5v-2z" fill="#fff"/></svg>`;
                    }

                    const card = document.createElement('article');
                    card.className = 'card cert-card';
                    card.innerHTML = `
                        <div class="cert-card-thumb">
                            <img loading="lazy" class="thumb" src="${c.image}" alt="${c.title}" />
                            <div style="flex:1">
                                <div style="display:flex;align-items:center;gap:.5rem;margin-bottom:4px">${icon}<h3 style="margin:0;font-size:1rem">${c.title}</h3></div>
                                <p class="muted" style="margin:6px 0">${c.description}</p>
                                <div class="cert-actions">
                                    <a class="btn btn-primary" href="${c.pdf}" target="_blank">Ver PDF</a>
                                    <a class="btn btn-ghost" href="${c.verify_url}" target="_blank">Verificaci√≥n</a>
                                    <a class="btn btn-ghost" href="./certs-gallery.html?focus=${encodeURIComponent(c.id)}">Abrir grande</a>
                                </div>
                            </div>
                        </div>`;
                    container.appendChild(card);
                });
            } catch (e) {
                console.error(e);
                document.getElementById('certs').innerText = 'No se pudo cargar metadata. Revisa docs/certs/metadata.json';
            }
        }
        loadCerts();
    </script>
</body>

</html>